{% extends "base.html" %}

{% block title %}{{ accion }} Usuario - CineHub{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container">
        <div class="form-header">
            <h1>
                <i class="fas fa-user{% if accion == 'Editar' %}-edit{% else %}-plus{% endif %}"></i>
                {{ accion }} Usuario
            </h1>
            <a href="/web/usuarios" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Volver
            </a>
        </div>

        <form method="post" class="data-form" enctype="multipart/form-data">
            <div class="form-group">
                <label><i class="fas fa-user"></i> Nombre:</label>
                <input type="text" name="nombre" value="{% if usuario %}{{ usuario.nombre }}{% endif %}" required>
            </div>

            <div class="form-group">
                <label><i class="fas fa-envelope"></i> Correo:</label>
                <input type="email" name="correo" value="{% if usuario %}{{ usuario.correo }}{% endif %}" required>
            </div>
            <div class="form-group">
                <label><i class="fas fa-envelope"></i> Imagen:</label>
                <input type="file" name="img" value="{% if usuario %}{{ usuario.img }}{% endif %}">
            </div>

            <div class="form-group">
                <label><i class="fas fa-lock"></i> Contraseña:</label>
                <input type="password" name="clave" 
                       placeholder="{% if accion == 'Editar' %}Dejar vacía para mantener la actual{% endif %}"
                       {% if accion == 'Crear' %}required{% endif %}>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn {% if accion == 'Crear' %}btn-success{% else %}btn-primary{% endif %}">
                    <i class="fas fa-save"></i> {{ accion }}
                </button>
                <a href="/web/usuarios" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
